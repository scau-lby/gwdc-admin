<script setup lang="ts">
import { ref, watch, defineEmits } from "vue";

const props = defineProps({
  index: {
    type: Number,
    default: 0
  },
  formData: {
    type: Object,
    default: () => {
      return {};
    }
  }
});

const index = ref(props.index);
watch(
  () => props.index,
  val => {
    index.value = val;
  }
);

const formData = ref(props.formData);
watch(
  () => props.formData,
  val => {
    formData.value = val;
  },
  {
    deep: true,
    immediate: true
  }
);

const emit = defineEmits(["type"]);

function emitType(val) {
  legend_selected.value[val] = !legend_selected.value[val];
  emit("type", {
    type: val,
    idx: index.value
  });
}

const legend_selected = ref({
  混浆密度: true,
  A泵压力: true,
  B泵压力: true,
  A泵瞬时排量: true,
  B泵瞬时排量: true,
  双泵瞬时排量: true,
  清水瞬时流量: true,
  A泵泵替瞬时排量: true,
  B泵泵替瞬时排量: true,
  A泵累计排量: true,
  B泵累计排量: true,
  双泵累计排量: true,
  清水累计排量: true,
  A泵泵替累计流量: true,
  B泵泵替累计流量: true
});
</script>

<template>
  <!-- 表单内容 -->

  <el-form :model="formData" label-width="130px" label-position="left">
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['混浆密度'] ? '#5470c6' : '#9e9e9e'
          }"
          @click="emitType('混浆密度')"
        >
          混浆密度
        </span>
      </template>
      <el-input v-model="formData.md" readonly />
    </el-form-item>
    <el-divider />
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['A泵压力'] ? '#91cc75' : '#9e9e9e'
          }"
          @click="emitType('A泵压力')"
        >
          A泵压力
        </span>
      </template>
      <el-input v-model="formData.Abyl" readonly />
    </el-form-item>
    <el-form-item label="B泵压力">
      <template #label>
        <span
          :style="{
            color: legend_selected['B泵压力'] ? '#fac858' : '#9e9e9e'
          }"
          @click="emitType('B泵压力')"
        >
          B泵压力
        </span>
      </template>
      <el-input v-model="formData.Bbyl" readonly />
    </el-form-item>
    <el-divider />
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['A泵瞬时排量'] ? '#ee6666' : '#9e9e9e'
          }"
          @click="emitType('A泵瞬时排量')"
        >
          A泵瞬时排量
        </span>
      </template>
      <el-input v-model="formData.Abll" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['B泵瞬时排量'] ? '#73c0de' : '#9e9e9e'
          }"
          @click="emitType('B泵瞬时排量')"
        >
          B泵瞬时排量
        </span>
      </template>
      <el-input v-model="formData.Bbll" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['双泵瞬时排量'] ? '#3ba272' : '#9e9e9e'
          }"
          @click="emitType('双泵瞬时排量')"
        >
          双泵瞬时排量
        </span>
      </template>
      <el-input v-model="formData.Zssll" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['清水瞬时流量'] ? '#fc8452' : '#9e9e9e'
          }"
          @click="emitType('清水瞬时流量')"
        >
          清水瞬时流量
        </span>
      </template>
      <el-input v-model="formData.Qsll" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['A泵泵替瞬时排量'] ? '#9a60b4' : '#9e9e9e'
          }"
          @click="emitType('A泵泵替瞬时排量')"
        >
          A泵泵替瞬时排量
        </span>
      </template>
      <el-input v-model="formData.AbDcll" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['B泵泵替瞬时排量'] ? '#ea7ccc' : '#9e9e9e'
          }"
          @click="emitType('B泵泵替瞬时排量')"
        >
          B泵泵替瞬时排量
        </span>
      </template>
      <el-input v-model="formData.BbDcll" readonly />
    </el-form-item>
    <el-divider />
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['A泵累计排量'] ? '#ee6666' : '#9e9e9e'
          }"
          @click="emitType('A泵累计排量')"
        >
          A泵累计排量
        </span>
      </template>
      <el-input v-model="formData.Ablj" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['B泵累计排量'] ? '#73c0de' : '#9e9e9e'
          }"
          @click="emitType('B泵累计排量')"
        >
          B泵累计排量
        </span>
      </template>
      <el-input v-model="formData.Bblj" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['双泵累计排量'] ? '#3ba272' : '#9e9e9e'
          }"
          @click="emitType('双泵累计排量')"
        >
          双泵累计排量
        </span>
      </template>
      <el-input v-model="formData.Zlj" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['清水累计排量'] ? '#fc8452' : '#9e9e9e'
          }"
          @click="emitType('清水累计排量')"
        >
          清水累计排量
        </span>
      </template>
      <el-input v-model="formData.Qslj" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['A泵泵替累计流量'] ? '#9a60b4' : '#9e9e9e'
          }"
          @click="emitType('A泵泵替累计流量')"
        >
          A泵泵替累计流量
        </span>
      </template>
      <el-input v-model="formData.AbDclllj" readonly />
    </el-form-item>
    <el-form-item>
      <template #label>
        <span
          :style="{
            color: legend_selected['B泵泵替累计流量'] ? '#ea7ccc' : '#9e9e9e'
          }"
          @click="emitType('B泵泵替累计流量')"
        >
          B泵泵替累计流量
        </span>
      </template>
      <el-input v-model="formData.BbDclllj" readonly />
    </el-form-item>
  </el-form>
</template>

<style scoped lang="scss">
::v-deep(.el-form-item__label) {
  cursor: pointer;
}
</style>
